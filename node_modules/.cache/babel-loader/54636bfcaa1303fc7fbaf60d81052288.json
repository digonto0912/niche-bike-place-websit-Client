{"ast":null,"code":"import _objectSpread from\"/Users/sabbirziauddin/Desktop/Desktop \\u2013 sabbir\\u2019s MacBook Pro/project/Mileston 12/Assignment 12/bike-place-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sabbirziauddin/Desktop/Desktop \\u2013 sabbir\\u2019s MacBook Pro/project/Mileston 12/Assignment 12/bike-place-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Grid from'@mui/material/Grid';import{Alert,Button,Container,TextField,Typography,CircularProgress}from'@mui/material';import MuiButton from'../../../styledComponent/MuiButton';import{Link}from'react-router-dom';import useAuth from'../../../hooks/useAuth';import{Password}from'@mui/icons-material';import{useHistory,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _location$state;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),loginData=_useState2[0],setLoginData=_useState2[1];// const [email, setEmail] = useState('');\n// const [pass,setPass] = useState('');\nvar _useAuth=useAuth(),registerUser=_useAuth.registerUser,signInWithGoogle=_useAuth.signInWithGoogle,setUser=_useAuth.setUser,isLoading=_useAuth.isLoading,authError=_useAuth.authError,user=_useAuth.user;var history=useHistory();var location=useLocation();var url=(location===null||location===void 0?void 0:(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from)||\"/\";var handleOnChange=function handleOnChange(e){var field=e.target.name;var value=e.target.value;var newLoginData=_objectSpread({},loginData);newLoginData[field]=value;setLoginData(newLoginData);console.log(field,value);};var handleLoginSubmit=function handleLoginSubmit(e){if(loginData.password!==loginData.password2){alert('password didnt match');return;}registerUser(loginData.email,loginData.password);e.preventDefault();};var handleSignInWithGoogle=function handleSignInWithGoogle(){signInWithGoogle().then(function(res){setUser(res.user);history.replace(url);}).catch(function(err){return console.dir(err);});};// const handleSignInWithGoogle=()=>{\n//     signInWithGoogle(location,history);\n// }\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:12,children:[(user===null||user===void 0?void 0:user.email)&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",children:\"account created successfully!\"}),authError&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:authError}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Register \"}),!isLoading&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLoginSubmit,children:[/*#__PURE__*/_jsx(TextField,{id:\"standard-basic\",sx:{width:'75%',m:'1',px:'5'},label:\"Your email\",name:\"email\",type:\"email\",onChange:handleOnChange,variant:\"standard\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{sx:{width:'75%',m:'1'},id:\"standard-basic\",label:\"Your Password\",type:\"password\",name:\"password\",onChange:handleOnChange,autoComplete:\"current-password\",variant:\"standard\"}),/*#__PURE__*/_jsx(TextField,{sx:{width:'75%',margin:'30px'},id:\"standard-basic\",label:\"Retype Password\",type:\"password\",name:\"password2\",onChange:handleOnChange,variant:\"standard\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(Button,{variant:\"text\",children:\" Already register?please Register\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(MuiButton,{sx:{width:'25%'},type:\"submit\",children:\" login\"}),/*#__PURE__*/_jsx(MuiButton,{onClick:handleSignInWithGoogle,children:\" Google sign IN\"})]}),isLoading&&/*#__PURE__*/_jsx(CircularProgress,{color:\"success\"})]})})})});};export default Register;","map":{"version":3,"sources":["/Users/sabbirziauddin/Desktop/Desktop – sabbir’s MacBook Pro/project/Mileston 12/Assignment 12/bike-place-client/src/Pages/Login/Register/Register.js"],"names":["React","useState","Grid","Alert","Button","Container","TextField","Typography","CircularProgress","MuiButton","Link","useAuth","Password","useHistory","useLocation","Register","loginData","setLoginData","registerUser","signInWithGoogle","setUser","isLoading","authError","user","history","location","url","state","from","handleOnChange","e","field","target","name","value","newLoginData","console","log","handleLoginSubmit","password","password2","alert","email","preventDefault","handleSignInWithGoogle","then","res","replace","catch","err","dir","width","m","px","margin"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Grid from '@mui/material/Grid';\nimport { Alert, Button, Container, TextField, Typography, CircularProgress } from '@mui/material';\nimport MuiButton from '../../../styledComponent/MuiButton';\nimport { Link } from 'react-router-dom';\nimport useAuth from '../../../hooks/useAuth';\nimport { Password } from '@mui/icons-material';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst Register = () => {\n\n\n    const [loginData, setLoginData,] = useState({});\n    // const [email, setEmail] = useState('');\n    // const [pass,setPass] = useState('');\n    const { registerUser, signInWithGoogle, setUser, isLoading, authError, user} = useAuth();\n\n    const history = useHistory()\n    const location = useLocation()\n    const url = location?.state?.from ||\"/\";\n    \n    const handleOnChange = (e) => {\n        const field = e.target.name;\n        const value = e.target.value;\n        const newLoginData = { ...loginData };\n        newLoginData[field] = value;\n        setLoginData(newLoginData);\n        console.log(field,value);\n        \n       \n        \n    }\n    const handleLoginSubmit = (e) => {\n        \n        if (loginData.password !== loginData.password2){\n            alert('password didnt match');\n            return;\n        }\n        registerUser(loginData.email,loginData.password);\n\n        e.preventDefault();\n    }\n\n    \n\n    const handleSignInWithGoogle = () => {\n        signInWithGoogle()\n            .then((res) => {\n                setUser(res.user);\n                history.replace(url);\n                \n\n            }\n\n            )\n            .catch((err) => console.dir(err));\n    };\n    // const handleSignInWithGoogle=()=>{\n    //     signInWithGoogle(location,history);\n    // }\n    return (\n        <div>\n            \n            <Container>\n                <Grid container spacing={2}>\n\n                    <Grid item xs={12} md={12}>\n                        {\n                            user?.email && <Alert severity=\"success\">account created successfully!</Alert>\n                        }\n                        {\n                            authError && <Alert severity=\"error\">{authError}</Alert>\n                        }\n                        <Typography variant=\"h4\" gutterBottom >Register </Typography>\n                        {!isLoading && <form onSubmit={handleLoginSubmit} >\n                            <TextField \n                                id=\"standard-basic\"\n                                sx={{ width: '75%', m: '1', px: '5' }}\n                                label=\"Your email\"\n                                name=\"email\"\n                                type=\"email\"\n                                \n                                onChange={handleOnChange}\n                                variant=\"standard\" />\n                            <br />\n                            <br />\n                            <TextField\n                                sx={{ width: '75%', m: '1' }}\n                                id=\"standard-basic\"\n                                label=\"Your Password\"\n                                type=\"password\"\n                                name=\"password\"\n                                onChange={handleOnChange}\n                                autoComplete=\"current-password\"\n                                variant=\"standard\"\n                            />\n\n                            <TextField\n                                sx={{ width: '75%', margin: '30px' }}\n                                id=\"standard-basic\"\n                                label=\"Retype Password\"\n                                type=\"password\"\n                                name=\"password2\"\n                                onChange={handleOnChange}\n                                variant=\"standard\"\n                            />\n                            <br />\n                            <br />\n                            <Link to='/login'>\n                                <Button variant=\"text\"> Already register?please Register</Button>\n\n                            </Link>\n                            <br />\n                           \n\n                            <MuiButton sx={{ width: '25%' }} type=\"submit\"> login</MuiButton>\n                            <MuiButton onClick={handleSignInWithGoogle}> Google sign IN</MuiButton>\n                            \n\n                            \n\n\n                        </form>}\n                        {\n                            isLoading && <CircularProgress color=\"success\" />\n                        }\n                        \n\n                    </Grid>\n\n\n                </Grid>\n            </Container>\n        </div>\n    );\n};\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}