{"ast":null,"code":"import _slicedToArray from\"/Users/sabbirziauddin/Desktop/Desktop \\u2013 sabbir\\u2019s MacBook Pro/project/Mileston 12/Assignment 12/bike-place-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import useAuth from'../../../hooks/useAuth';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import Paper from'@mui/material/Paper';import MuiButton from'../../../styledComponent/MuiButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function createData(name,calories,fat,carbs,protein){return{name:name,calories:calories,fat:fat,carbs:carbs,protein:protein};}var MyOrders=function MyOrders(){var _useAuth=useAuth(),user=_useAuth.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];useEffect(function(){var url=\"https://immense-oasis-52476.herokuapp.com/orders?email=\".concat(user.email);fetch(url).then(function(res){return res.json();}).then(function(data){return setOrders(data);});},[]);//delete \nvar handleDelete=function handleDelete(id){var proceed=window.confirm('do you want to delete');if(proceed){var url=\"https://immense-oasis-52476.herokuapp.com/orders/\".concat(id);fetch(url,{method:'DELETE'}).then(function(res){return res.json();}).then(function(data){if(data.deletedCount){alert('deleted successfully');}var remainingOrders=orders.filter(function(dl){return dl._id!==id;});setOrders(remainingOrders);});}};return/*#__PURE__*/_jsxs(\"div\",{children:[\"total order:\",orders.length,/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:650},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Customer Name:\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Email:\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Product Name\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"product price\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"action\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:orders.map(function(row){return/*#__PURE__*/_jsxs(TableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:row.customerName}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.email}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.productName}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.productPrice}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.phone}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.status}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(MuiButton,{onClick:function onClick(){return handleDelete(row._id);},children:\"Delete\"})})]},row._id);})})]})})]});};export default MyOrders;","map":{"version":3,"sources":["/Users/sabbirziauddin/Desktop/Desktop – sabbir’s MacBook Pro/project/Mileston 12/Assignment 12/bike-place-client/src/Pages/Dashboard/MyOrders/MyOrders.js"],"names":["React","useEffect","useState","useAuth","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","MuiButton","createData","name","calories","fat","carbs","protein","MyOrders","user","orders","setOrders","url","email","fetch","then","res","json","data","handleDelete","id","proceed","window","confirm","method","deletedCount","alert","remainingOrders","filter","dl","_id","length","minWidth","map","row","border","customerName","productName","productPrice","phone","status"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport useAuth from '../../../hooks/useAuth';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport MuiButton from '../../../styledComponent/MuiButton';\n\nfunction createData(name, calories, fat, carbs, protein) {\n    return { name, calories, fat, carbs, protein };\n}\n\nconst MyOrders = () => {\n    const {user} = useAuth();\n    const [orders,setOrders] = useState([]);\n\n    useEffect(()=>{\n        const url =`https://immense-oasis-52476.herokuapp.com/orders?email=${user.email}`;\n        fetch(url)\n        .then(res =>res.json())\n        .then(data =>setOrders(data))\n    },[])\n\n    //delete \n    const handleDelete = id => {\n        const proceed = window.confirm('do you want to delete')\n        if (proceed) {\n            const url = `https://immense-oasis-52476.herokuapp.com/orders/${id}`\n            fetch(url, {\n                method: 'DELETE'\n            })\n                .then(res => res.json())\n                .then(data => {\n                    if (data.deletedCount) {\n                        alert('deleted successfully');\n                    }\n                    const remainingOrders = orders.filter(dl => dl._id !== id)\n                    setOrders(remainingOrders);\n                });\n\n        }\n\n\n\n    }\n    return (\n        <div>\n            total order:{orders.length}\n            <TableContainer component={Paper}>\n                <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>Customer Name:</TableCell>\n                            <TableCell align=\"right\">Email:</TableCell>\n                            <TableCell align=\"right\">Product Name</TableCell>\n                            <TableCell align=\"right\">product price</TableCell>\n                            <TableCell align=\"right\">Phone Number</TableCell>\n                            <TableCell align=\"right\">Status</TableCell>\n                            <TableCell align=\"right\">action</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {orders.map((row) => (\n                            <TableRow\n                                key={row._id}\n                                sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                            >\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {row.customerName}\n                                </TableCell>\n                                <TableCell align=\"right\">{row.email}</TableCell>\n                                <TableCell align=\"right\">{row.productName}</TableCell>\n                                <TableCell align=\"right\">{row.productPrice}</TableCell>\n                                <TableCell align=\"right\">{row.phone}</TableCell>\n                                <TableCell align=\"right\">{row.status}</TableCell>\n                                <TableCell align=\"right\"><MuiButton onClick={() => handleDelete(row._id)}>Delete</MuiButton></TableCell>\n                                \n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </div>\n    );\n};\n\nexport default MyOrders;"]},"metadata":{},"sourceType":"module"}