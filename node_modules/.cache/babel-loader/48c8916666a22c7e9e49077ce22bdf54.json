{"ast":null,"code":"import _objectSpread from\"/Users/sabbirziauddin/Desktop/Desktop \\u2013 sabbir\\u2019s MacBook Pro/project/Mileston 12/Assignment 12/bike-place-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sabbirziauddin/Desktop/Desktop \\u2013 sabbir\\u2019s MacBook Pro/project/Mileston 12/Assignment 12/bike-place-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import useAuth from'../../../hooks/useAuth';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import Paper from'@mui/material/Paper';import MuiButton from'../../../styledComponent/MuiButton';import{Alert}from'@mui/material';import{useForm}from\"react-hook-form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function createData(name,calories,fat,carbs,protein){return{name:name,calories:calories,fat:fat,carbs:carbs,protein:protein};}var ManageAllProducts=function ManageAllProducts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),order=_useState2[0],setOrder=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;useEffect(function(){fetch('https://immense-oasis-52476.herokuapp.com/allorders').then(function(res){return res.json();}).then(function(data){return setOrder(data);});},[]);var onSubmit=function onSubmit(data){console.log(data,id);fetch(\"https://immense-oasis-52476.herokuapp.com/statusUpdate/\".concat(id),{method:'PUT',headers:{\"content-type\":\"application/json\"},body:JSON.stringify(data)}).then(function(res){return res.json();}).then(function(result){return console.log(result);});};//handle status update \nvar handleStatusUpdate=function handleStatusUpdate(id){setId(id);};//handle status update\nvar handleDeleteOrder=function handleDeleteOrder(id){var proceed=window.confirm(\"Do you want to delete!\");if(proceed){var url=\"https://immense-oasis-52476.herokuapp.com/orders/\".concat(id);fetch(url,{method:'DELETE'}).then(function(res){return res.json();}).then(function(data){if(data.deletedCount>0){/*#__PURE__*/_jsx(Alert,{severity:\"success\",children:\"account created successfully!\"});alert('deleted successfully');var remainOrder=order.filter(function(ord){return ord._id!==id;});setOrder(remainOrder);}});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"manage all order Total:  \",order.length]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:650},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Customer Name:\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Email:\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Product Name\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"product price\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"status\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"action\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"status manage\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:order.map(function(row){return/*#__PURE__*/_jsxs(TableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:row.customerName}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.email}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.productName}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.productPrice}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.phone}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row===null||row===void 0?void 0:row.status}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(MuiButton,{onClick:function onClick(){return handleDeleteOrder(row._id);},children:\"Delete\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"label\",{children:row===null||row===void 0?void 0:row.status}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({onClick:function onClick(){return handleStatusUpdate(row._id);}},register(\"status\")),{},{children:[/*#__PURE__*/_jsx(\"option\",{value:row===null||row===void 0?void 0:row.status,children:row===null||row===void 0?void 0:row.status}),/*#__PURE__*/_jsx(\"option\",{value:\"approved\",children:\"approved\"}),/*#__PURE__*/_jsx(\"option\",{value:\"done\",children:\"Done\"})]})),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]})})]},row._id);})})]})})]});};export default ManageAllProducts;","map":{"version":3,"sources":["/Users/sabbirziauddin/Desktop/Desktop – sabbir’s MacBook Pro/project/Mileston 12/Assignment 12/bike-place-client/src/Pages/Dashboard/ManageAllProducts/ManageAllProducts.js"],"names":["React","useEffect","useState","useAuth","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","MuiButton","Alert","useForm","createData","name","calories","fat","carbs","protein","ManageAllProducts","order","setOrder","id","setId","register","handleSubmit","fetch","then","res","json","data","onSubmit","console","log","method","headers","body","JSON","stringify","result","handleStatusUpdate","handleDeleteOrder","proceed","window","confirm","url","deletedCount","alert","remainOrder","filter","ord","_id","length","minWidth","map","row","border","customerName","email","productName","productPrice","phone","status"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport useAuth from '../../../hooks/useAuth';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport MuiButton from '../../../styledComponent/MuiButton';\nimport { Alert } from '@mui/material';\nimport { useForm } from \"react-hook-form\";\n\nfunction createData(name, calories, fat, carbs, protein) {\n    return { name, calories, fat, carbs, protein };\n}\n\nconst ManageAllProducts = () => {\n    const [order,setOrder] = useState([]);\n    const [id,setId] =useState('');\n    const { register, handleSubmit } = useForm();\n   \n    useEffect(()=>{\n        fetch('https://immense-oasis-52476.herokuapp.com/allorders')\n        .then(res =>res.json())\n        .then(data=>setOrder(data))\n    },[])\n\n    const onSubmit = data => {\n        console.log(data,id);\n        fetch(`https://immense-oasis-52476.herokuapp.com/statusUpdate/${id}`,{\n            method:'PUT',\n            headers:{\"content-type\":\"application/json\"},\n            body:JSON.stringify(data)\n        })\n        .then(res =>res.json())\n        .then(result=>console.log(result));\n    };\n   //handle status update \n    const handleStatusUpdate =(id)=>{\n       setId(id);\n        \n\n    }\n//handle status update\nconst handleDeleteOrder =(id)=>{\n    const proceed = window.confirm(\"Do you want to delete!\")\n    if(proceed){\n        const url = `https://immense-oasis-52476.herokuapp.com/orders/${id}`\n        fetch(url, {\n            method: 'DELETE'\n\n\n        })\n            .then(res => res.json())\n            .then(data => {\n                if (data.deletedCount > 0) {\n                    <Alert severity=\"success\">account created successfully!</Alert>\n                    alert('deleted successfully');\n                    const remainOrder = order.filter(ord => ord._id !== id)\n                    setOrder(remainOrder);\n\n                }\n            })\n    }\n}\n\n\n\n\n    return (\n        <div>\n            <h2>manage all order Total:  {order.length}</h2>\n            <TableContainer component={Paper}>\n                <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>Customer Name:</TableCell>\n                            <TableCell align=\"right\">Email:</TableCell>\n                            <TableCell align=\"right\">Product Name</TableCell>\n                            <TableCell align=\"right\">product price</TableCell>\n                            <TableCell align=\"right\">Phone Number</TableCell>\n                            <TableCell align=\"right\">status</TableCell>\n                            <TableCell align=\"right\">action</TableCell>\n                            <TableCell align=\"right\">status manage</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {order.map((row) => (\n                            <TableRow\n                                key={row._id}\n                                sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                            >\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {row.customerName}\n                                </TableCell>\n                                <TableCell align=\"right\">{row.email}</TableCell>\n                                <TableCell align=\"right\">{row.productName}</TableCell>\n                                <TableCell align=\"right\">{row.productPrice}</TableCell>\n                                <TableCell align=\"right\">{row.phone}</TableCell>\n                                <TableCell align=\"right\">{row?.status}</TableCell>\n                                <TableCell align=\"right\"><MuiButton onClick={() => handleDeleteOrder(row._id)}>Delete</MuiButton></TableCell>\n                                \n                                <TableCell align=\"right\">{\n                                    <form onSubmit={handleSubmit(onSubmit)}>\n                                        <label>{row?.status}</label>\n                                        <select onClick={() => handleStatusUpdate(row._id)} {...register (\"status\")}>\n                                            <option value={row?.status}>{row?.status}</option>\n                                            <option value=\"approved\">approved</option>\n                                            <option value=\"done\">Done</option>\n                                        </select>\n                                        <input type=\"submit\" />\n                                    </form>\n                                }</TableCell>\n\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        \n        </div>\n    );\n};\n\nexport default ManageAllProducts;"]},"metadata":{},"sourceType":"module"}